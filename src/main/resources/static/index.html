<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <title>种子库</title>

    <link rel="stylesheet" type="text/css" href="css/page.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body style="background: #A3D0C3;">
<div class="search d1">
    <form>
        <input id="searchInfo" type="text" placeholder="start search...">
        <button onclick="search()" type="submit"></button>
    </form>
</div>
<div style="text-align: center;font-size: 20px;" id="data-list">
    <!--这里是列表-->
</div>
<div style="text-align: center;margin:30px auto;">
    <div id="pager" class="pager clearfix">
    </div>
</div>

</body>

<script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
<script src="js/jquery.z-pager.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">

    let totalPage = 0;
    let pageSize = 1;
    let page = 1;

    var url = 'http://127.0.0.1:8888/seedTrade';

    $.get(url + "/seed?page=" + page + "&pageSize=" + pageSize, function (data, status) {
        this.totalPage = data.totalPage;
        let rows = data.rows;
        let htmlString = "";
        console.log(rows);
        for (i = 0; i < rows.length; i++) {
            htmlString += "\t<li style=\"margin:10px auto;\">" + rows[i].result + "</li>"
        }
        let list = document.getElementById("data-list");
        list.innerHTML = htmlString
        this.totalPage = data.totalPage;
    });


    $("#pager").zPager({
        totalData: this.totalPage,
        htmlBox: $('#wraper'),
        btnShow: true,
        ajaxSetData: false
    });

    function currentPage(currentPage) {
        /*
            触发页码数位置： Page/js/jquery.z-pager.js 64行
        */
        console.log("当前页码数：" + currentPage);
        $.get(url + "/seed?page=" + currentPage + "&pageSize=" + pageSize, function (data, status) {
            this.totalPage = data.totalPage;
            let rows = data.rows;
            let htmlString = "";
            console.log(rows);
            for (i = 0; i < rows.length; i++) {
                htmlString += "\t<li style=\"margin:10px auto;\">" + rows[i].result + "</li>"
            }
            let list = document.getElementById("data-list");
            list.innerHTML = htmlString
            this.totalPage = data.totalPage;
        });
    }

    function search() {
        let searchInfo = document.getElementById("searchInfo");

        alert("search");
        console.log("search");
    }

</script>

</html>
